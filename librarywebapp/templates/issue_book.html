{% extends "staff.html" %}
{% block content %}
<!-- borrowers is the variable passed in listing borrowers -->
<!-- books is the variable passed in listing available books -->
<!-- loandate is the variable passed in containing the current date -->
<!-- name for the borrower dropdown borrower should be  borrower -->
<!-- name for the book dropdown should be book-->
<!-- name for the hidden field with date should be loandate -->
<!-- URL for submission (action) of form should be loan/add -->
<section>
    <div class="container mt-3 text-center">
        <h5>Please select the borrower and book </h5>
        <br>
    </div>
    
    <form action="/loan/add" method="post"> <!-- the form submitted using POST to the /loan/add route -->
        <div class="container mt-3 text-center">
            <label>Borrower: </label>
                <select name="borrower" id="borrower" required>   <!-- a drop down box of Borrowers,shown with borrower's id, firstname, and familyname. This field is required field -->
                    <option value="">--Borrower's ID and name--</option>
                    {% for borrower in borrowers %}
                    <option value="{{ borrower[0] }}">{{ borrower[0] }} {{borrower[1]}} {{borrower[2]}} </option> 
                    {% endfor %}
                </select>
        </div>

        <div class="container mt-3 text-center">
            <label>Book:</label>
                <select name="book" id="book" required>   <!-- a drop down box of available book copies, shown with bookcopyid, book title. This field is required field -->
                    <option value="">-------Book copy ID and Book name------</option>
                    {% for book in books %}
                    <option value="{{book[0]}}">{{book[0]}} {{book[4]}}</option>
                    {% endfor %}
                </select>
                  
        </div>

        <div class="container mt-3">
       
            <input type="hidden" id="loandate" name="loandate" value="{{ loandate }}" />  <!-- hidden input field set to the current date -->
       
        </div>
        <br>
        <div class="container mt-3 text-center">
            <input type = "submit" value = "Sumbit" /> 
            <input type = "reset" value = "cancel" />
        </div>
        
    
    </form>
</section>

{% endblock %}